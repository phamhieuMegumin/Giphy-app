{"version":3,"sources":["Services/AuthServices.js","Context/AuthContext.js","components/NavBar/NavBar.js","components/ListGiphy/GiphyItems.js","Services/FavoriteService.js","components/ListGiphy/ListGiphy.js","components/Home/Home.js","components/Message/Message.js","components/Login/Login.js","components/Register/Register.js","components/Todos/FavoriteItems.js","components/Todos/Favorites.js","Admin/Admin.js","hocs/PrivateRoute.js","hocs/UnPrivateRoute.js","App.js","index.js"],"names":["login","user","a","fetch","method","body","JSON","stringify","headers","response","status","json","message","isAuthenticated","username","role","register","logout","console","log","AuthContext","createContext","children","useState","setUser","setIsAuthenticated","isLoader","setIsLoader","useEffect","AuthService","then","data","Provider","value","ShowNavBar","useContext","isOpen","setIsOpen","handleLogout","AuthServices","success","Navbar","color","light","expand","to","NavbarBrand","NavbarToggler","onClick","Collapse","navbar","Nav","className","NavItem","Button","GiphyItems","props","handleOnClick","src","getFavorite","msgBody","msgError","postFavorite","favorite","ListGiphy","giphy","setGiphy","res","getData","authContext","setMessage","url","FavoritesService","map","item","images","original","id","Home","Message","baseClass","getStyle","Login","password","onChange","e","target","name","history","useHistory","test","Form","onSubmit","preventDefault","push","FormGroup","Label","for","Input","type","placeholder","Register","timerID","useRef","clearTimeout","setTimeout","TodoItems","listfavorite","Todos","favorites","setFavorites","FavoriteItems","_id","Admin","PrivateRoute","Component","component","roles","rest","render","includes","pathname","state","from","location","UnPrivateRoute","App","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ba269498.chunk.js","sourcesContent":["export default {\r\n  login: async (user) => {\r\n    const response = await fetch(\"/user/login\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(user),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    if (response.status !== 401) {\r\n      return await response.json();\r\n    } else {\r\n      const message = {\r\n        isAuthenticated: false,\r\n        user: {\r\n          username: \"\",\r\n          role: \"\",\r\n        },\r\n      };\r\n      return message;\r\n    }\r\n  },\r\n  register: async (user) => {\r\n    const response = await fetch(\"/user/register\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(user),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    return await response.json();\r\n  },\r\n  logout: async () => {\r\n    const response = await fetch(\"/user/logout\");\r\n    return await response.json();\r\n  },\r\n  isAuthenticated: async () => {\r\n    const response = await fetch(\r\n      \"https://server-giphy.herokuapp.com/user/authenticated\"\r\n    );\r\n    if (response.status !== 401) {\r\n      console.log(response.status);\r\n      //passport middleware auto send status 401 when authenticated\r\n      return await response.json();\r\n    } else return { isAuthenticated: false, user: { username: \"\", role: \"\" } };\r\n  },\r\n};\r\n","import React, { createContext, useEffect, useState } from \"react\";\r\nimport AuthService from \"../Services/AuthServices\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport default ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [isLoader, setIsLoader] = useState(false);\r\n  useEffect(() => {\r\n    AuthService.isAuthenticated().then((data) => {\r\n      setUser(data.user);\r\n      setIsAuthenticated(data.isAuthenticated);\r\n      setIsLoader(true);\r\n    });\r\n  }, []);\r\n  return (\r\n    <div>\r\n      {!isLoader ? (\r\n        <h1>Loading</h1>\r\n      ) : (\r\n        <AuthContext.Provider\r\n          value={{ user, setUser, isAuthenticated, setIsAuthenticated }}\r\n        >\r\n          {children}\r\n        </AuthContext.Provider>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useContext, useState } from \"react\";\r\nimport { AuthContext } from \"../../Context/AuthContext\";\r\nimport AuthServices from \"../../Services/AuthServices\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./NavBar.css\";\r\nimport {\r\n  Button,\r\n  Collapse,\r\n  Nav,\r\n  Navbar,\r\n  NavbarBrand,\r\n  NavbarToggler,\r\n  NavItem,\r\n} from \"reactstrap\";\r\nfunction ShowNavBar() {\r\n  const { user, setUser, isAuthenticated, setIsAuthenticated } = useContext(\r\n    AuthContext\r\n  );\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const toggle = () => setIsOpen(!isOpen);\r\n  const handleLogout = () => {\r\n    AuthServices.logout().then((data) => {\r\n      if (data.success) {\r\n        setUser(data.user);\r\n        setIsAuthenticated(false);\r\n      }\r\n    });\r\n  };\r\n  const Authenticated = () => {\r\n    return (\r\n      <>\r\n        <NavItem>\r\n          <Link to=\"/\">Home</Link>\r\n        </NavItem>\r\n        <NavItem>\r\n          <Link to=\"/favorites\">Favorites</Link>\r\n        </NavItem>\r\n        {user.role === \"admin\" ? (\r\n          <NavItem>\r\n            <Link to=\"/admin\">Admin</Link>\r\n          </NavItem>\r\n        ) : null}\r\n        <Button onClick={handleLogout}>Logout</Button>\r\n      </>\r\n    );\r\n  };\r\n  const unAuthenticated = () => {\r\n    return (\r\n      <>\r\n        <NavItem>\r\n          <Link to=\"/\">Home</Link>\r\n        </NavItem>\r\n        <NavItem>\r\n          <Link to=\"/login\">Login</Link>\r\n        </NavItem>\r\n        <NavItem>\r\n          <Link to=\"/register\">Register</Link>\r\n        </NavItem>\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <div>\r\n      <Navbar color=\"light\" light expand=\"md\">\r\n        <Link to=\"/\">\r\n          <NavbarBrand>Logo</NavbarBrand>\r\n        </Link>\r\n        <NavbarToggler onClick={toggle} />\r\n        <Collapse isOpen={isOpen} navbar>\r\n          <Nav className=\"mr-auto\" navbar>\r\n            {!isAuthenticated ? unAuthenticated() : Authenticated()}\r\n          </Nav>\r\n        </Collapse>\r\n      </Navbar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ShowNavBar;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"reactstrap\";\r\nimport \"./GiphyItems.css\";\r\nfunction GiphyItems(props) {\r\n  const { data, handleOnClick } = props;\r\n  const onClick = () => {\r\n    handleOnClick(data);\r\n  };\r\n  return (\r\n    <div className=\"item-container\">\r\n      <div className=\"img-box\">\r\n        <img src={data}></img>\r\n      </div>\r\n      <div className=\"btn-add\">\r\n        <Button onClick={onClick}>Add to favorite</Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GiphyItems;\r\n","export default {\r\n  getFavorite: async () => {\r\n    const response = await fetch(\"/user/favorites\");\r\n    if (response.status !== 401) {\r\n      return await response.json();\r\n    } else\r\n      return {\r\n        message: { msgBody: \"UnAuthorized\", msgError: true },\r\n      };\r\n  },\r\n  postFavorite: async (favorite) => {\r\n    const response = await fetch(\"/user/favorite\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(favorite),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    if (response.status !== 401) {\r\n      return await response.json();\r\n    } else\r\n      return {\r\n        message: { msgBody: \"UnAuthorized\", msgError: true },\r\n      };\r\n  },\r\n};\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport GiphyItems from \"./GiphyItems\";\r\nimport FavoritesService from \"../../Services/FavoriteService\";\r\nimport { AuthContext } from \"../../Context/AuthContext\";\r\nfunction ListGiphy() {\r\n  const [giphy, setGiphy] = useState([]);\r\n  const [pagination, setPagination] = useState(1);\r\n  const total = 15;\r\n  const itemOnPage = 15;\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      const response = await fetch(\r\n        `http://api.giphy.com/v1/gifs/trending?api_key=JjiRVm3bXZXAkfwAccSJB7bGELIXtT11&limit=${total}`\r\n      );\r\n      const res = await response.json();\r\n      console.log(res);\r\n      setGiphy(res.data);\r\n    };\r\n    getData();\r\n  }, []);\r\n  const authContext = useContext(AuthContext);\r\n  const [message, setMessage] = useState(null);\r\n  const handleOnClick = (data) => {\r\n    const favorite = {\r\n      url: data,\r\n    };\r\n    FavoritesService.postFavorite(favorite).then((data) => {\r\n      const { message } = data;\r\n      if (!message.msgError) {\r\n        FavoritesService.getFavorite().then((getData) => {\r\n          setMessage(message);\r\n        });\r\n      } else if (message.msgBody === \"UnAuthorzied\") {\r\n        setMessage(message);\r\n        authContext.setUser({ username: \"\", role: \"\" });\r\n        authContext.setIsAuthenticated(false);\r\n      } else {\r\n        setMessage(message);\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"ListItems\">\r\n        {giphy.map((item) => {\r\n          return (\r\n            <GiphyItems\r\n              key={item.id}\r\n              data={item.images.original.url}\r\n              handleOnClick={handleOnClick}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ListGiphy;\r\n","import React from \"react\";\r\nimport ListGiphy from \"../ListGiphy/ListGiphy\";\r\nimport \"./Home.css\";\r\nfunction Home() {\r\n  return (\r\n    <div className=\"home-page\">\r\n      <h1>Top Trending Giphy</h1>\r\n      <ListGiphy />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\n\r\nfunction Message(props) {\r\n  const getStyle = (props) => {\r\n    let baseClass = \"alert \";\r\n    if (props.message.msgError) {\r\n      baseClass = baseClass + \"alert-danger\";\r\n    } else baseClass = baseClass + \"alert-primary\";\r\n    return baseClass;\r\n  };\r\n  return (\r\n    <div className={getStyle(props)} role=\"alert\">\r\n      {props.message.msgBody}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Message;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Button, Form, FormGroup, Input, Label } from \"reactstrap\";\r\nimport AuthService from \"../../Services/AuthServices\";\r\nimport { AuthContext } from \"../../Context/AuthContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Message from \"../Message/Message\";\r\nimport \"./Login.css\";\r\nfunction Login() {\r\n  const [user, setUser] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const [message, setMessage] = useState(null);\r\n  const onChange = (e) => {\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  };\r\n  const authContext = useContext(AuthContext);\r\n  const history = useHistory();\r\n  const test = {\r\n    username: \"phamquanghieu8820\",\r\n    password: \"123456\",\r\n  };\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    AuthService.login(test).then((data) => {\r\n      // console.log(data);\r\n      const { isAuthenticated, user, message } = data;\r\n      if (isAuthenticated) {\r\n        authContext.setUser(user);\r\n        authContext.setIsAuthenticated(isAuthenticated);\r\n        history.push(\"/\");\r\n      } else {\r\n        setMessage(message);\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"login-container\">\r\n      <Form onSubmit={onSubmit}>\r\n        <FormGroup>\r\n          <Label for=\"exampleEmail\">Username</Label>\r\n          <Input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            id=\"exampleEmail\"\r\n            placeholder=\"username\"\r\n            onChange={onChange}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label for=\"examplePassword\">Password</Label>\r\n          <Input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"examplePassword\"\r\n            placeholder=\"password\"\r\n            onChange={onChange}\r\n          />\r\n        </FormGroup>\r\n        <Button>Login</Button>\r\n        {message ? <Message message={message} /> : null}\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Button, Form, FormGroup, Input, Label } from \"reactstrap\";\r\nimport AuthService from \"../../Services/AuthServices\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Message from \"../Message/Message\";\r\nimport \"./Register.css\";\r\nfunction Register() {\r\n  const [user, setUser] = useState({ username: \"\", password: \"\", role: \"\" });\r\n  const [message, setMessage] = useState(null);\r\n  let timerID = useRef(null);\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    return () => {\r\n      clearTimeout(timerID);\r\n    };\r\n  }, []);\r\n\r\n  const onChange = (e) => {\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setUser({ username: \"\", password: \"\", role: \"\" });\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    AuthService.register(user).then((data) => {\r\n      const { message } = data;\r\n      setMessage(message);\r\n      resetForm();\r\n      if (!message.msgError) {\r\n        timerID = setTimeout(() => {\r\n          history.push(\"/login\");\r\n        }, 2000);\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"register-container\">\r\n      <Form onSubmit={onSubmit}>\r\n        <FormGroup>\r\n          <Label for=\"exampleEmail\">User</Label>\r\n          <Input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            id=\"exampleEmail\"\r\n            value={user.username}\r\n            placeholder=\"username\"\r\n            onChange={onChange}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label for=\"examplePassword\">Password</Label>\r\n          <Input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"examplePassword\"\r\n            value={user.password}\r\n            placeholder=\"password\"\r\n            onChange={onChange}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label for=\"exampleRole\">Role</Label>\r\n          <Input\r\n            type=\"text\"\r\n            name=\"role\"\r\n            id=\"exampleRole\"\r\n            value={user.role}\r\n            placeholder=\"Role (admin/user)\"\r\n            onChange={onChange}\r\n          />\r\n        </FormGroup>\r\n        <Button>Register</Button>\r\n        {message ? <Message message={message} /> : null}\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\n\r\nfunction TodoItems(props) {\r\n  const { listfavorite } = props;\r\n  const url = listfavorite.url;\r\n  return (\r\n    <div className=\"item-container\">\r\n      <div className=\"img-box\">\r\n        <img src={url}></img>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TodoItems;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport FavoriteItems from \"./FavoriteItems\";\r\nimport FavoritesService from \"../../Services/FavoriteService\";\r\nimport \"./Favorites.css\";\r\nfunction Todos() {\r\n  const [favorites, setFavorites] = useState([]);\r\n  useEffect(() => {\r\n    FavoritesService.getFavorite().then((data) => {\r\n      setFavorites(data.favorites);\r\n    });\r\n  }, []);\r\n  return (\r\n    <div className=\"favorite-container\">\r\n      {favorites.map((favorite) => {\r\n        return <FavoriteItems key={favorite._id} listfavorite={favorite} />;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Todos;\r\n","import React from \"react\";\r\n\r\nfunction Admin() {\r\n  return (\r\n    <div>\r\n      <h1>Admin Page</h1>\r\n    </div>\r\n  );\r\n}\r\nexport default Admin;\r\n","import React, { useContext } from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { AuthContext } from \"../Context/AuthContext\";\r\nfunction PrivateRoute({ component: Component, roles, ...rest }) {\r\n  const { isAuthenticated, user } = useContext(AuthContext);\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        if (!isAuthenticated) {\r\n          return (\r\n            <Redirect\r\n              to={{ pathname: \"/login\", state: { from: props.location } }}\r\n            />\r\n          );\r\n        }\r\n        if (!roles.includes(user.role))\r\n          return (\r\n            <Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\r\n          );\r\n        return <Component {...props} />;\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import React, { useContext } from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { AuthContext } from \"../Context/AuthContext\";\r\nfunction UnPrivateRoute({ component: Component, ...rest }) {\r\n  const { isAuthenticated } = useContext(AuthContext);\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        if (isAuthenticated) {\r\n          return (\r\n            <Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\r\n          );\r\n        }\r\n        return <Component {...props} />;\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default UnPrivateRoute;\r\n","import React, { useContext } from \"react\";\nimport NavBar from \"./components/NavBar/NavBar\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Home from \"./components/Home/Home\";\nimport Login from \"./components/Login/Login\";\nimport Register from \"./components/Register/Register\";\nimport Todos from \"./components/Todos/Favorites\";\nimport Admin from \"./Admin/Admin\";\nimport PrivateRoute from \"./hocs/PrivateRoute\";\nimport UnPrivateRoute from \"./hocs/UnPrivateRoute\";\nfunction App() {\n  return (\n    <Router>\n      <NavBar />\n      <div className=\"container\">\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/login\" component={Login} />\n        <UnPrivateRoute path=\"/register\" component={Register} />\n        <PrivateRoute\n          path=\"/favorites\"\n          roles={[\"user\", \"admin\"]}\n          component={Todos}\n        />\n        <PrivateRoute path=\"/admin\" roles={[\"admin\"]} component={Admin} />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport AuthProvider from \"./Context/AuthContext\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nReactDOM.render(\n  <AuthProvider>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </AuthProvider>,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}